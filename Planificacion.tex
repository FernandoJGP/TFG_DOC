%!TEX root =  tfg.tex
\chapter{Planificación}

\begin{abstract}
En la siguiente sección se expone la planificación del proyecto y el informe de tiempos generado durante el transcurso del mismo que, comparado con lo anterior, nos permitirá ver la desviación en cuanto a tiempo del proyecto.
\end{abstract}

\section{Introducción}
\label{sec:planificacion}

La planificación es una de las fases más importantes en el desarrollo software: una mala planificación puede abocar al fracaso un proyecto en el que hayamos invertido mucho dinero y recursos.

Las secciones de este capítulo recogen:
\begin{itemize}
	\item Una \textbf{tabla resumen de la planificación} del proyecto (\ref{sec:planificacion-resumen}), que nos permitirá obtener de un vistazo aspectos fundamentales sobre la planificación de este proyecto.
	\item La \textbf{planificación inicial} del proyecto (\ref{sec:planificacion-inicial}), en la cuál se nos muestra la planificación como tal y los criterios y decisiones que nos han llevado a estructurarla de la forma en la que se ha hecho.
	\item El \textbf{informe de tiempos} (\ref{sec:planificacion-informe}), que contiene los datos de tiempo reales obtenidos durante el transcurso del proyecto, así como las desviaciones y adelantos o retrasos que ha sufrido el proyecto.
	\item Por último, en la sección \textbf{conclusiones} (\ref{sec:planificacion-conclusiones}) se discute la planificación del proyecto, comparando los datos planificados con los obtenidos tras la finalización del proyecto.
\end{itemize}

\clearpage

\section{Resumen temporal del proyecto}
\label{sec:planificacion-resumen}

\begin{table*}[h!]
	\centering
	\begin{coolTable}{ll}{2}
{Resumen del proyecto}
	\textbf{Fecha de inicio}&20/02/2017\\
	\textbf{Fecha de fin}&31/08/2017\\ %Entrega memoria 13-06-2017 o 04-09-2017
	\textbf{Periodicidad de las revisiones (promedio)}&2 semanas\\
	\textbf{Carga de trabajo semanal (promedio)}&16,31 horas\\
	\textbf{Horas totales previstas}&310 horas\\ % entre 25-30 horas por crédito
	\textbf{Horas finales}&341,5 horas\\
	\end{coolTable}
	\caption{Tabla resumen de tiempos y planificación}
\end{table*}

\section{Planificación inicial}
\label{sec:planificacion-inicial}

Para su planificación, se ha decidido dividir el proyecto en siguientes fases o iteraciones, las cuales se describen a continuación junto con los roles que participan principalmente:

\begin{itemize}
	\item \textbf{Fase de estudio}: En esta primera etapa interviene únicamente el rol \textbf{jefe de proyecto} (aunque en un contexto real intervendrían más personas, como por ejemplo el diseñador jefe), que será el encargado de estudiar las diferentes tecnologías que tiene a su disposición y de poner los cimientos más básicos de la ruta que seguirá el proyecto.
	\item \textbf{Fase de inicio del proyecto (o iteración 0)}: Es la etapa en la que se realizan las siguientes tareas:
		\begin{itemize}
			\item Las primeras fases de la metodología y buena parte de la elaboración de la memoria, salvando los apartados finales (por ejemplo, el manual o las conclusiones) y las secciones centradas en el desarrollo, principalmente.
			\item El diseño general del videojuego y, por tanto, el documento de diseño del videojuego.
			\item La inicialización del proyecto, preparación del repositorio, etc.
		\end{itemize}
	Teniendo en cuenta lo descrito, en esta fase intervienen el \textbf{jefe de proyecto} (documentación del proyecto), el \textbf{diseñador} (realización del "`Documento de diseño del juego"' o "`GDD"') y el \textbf{programador} (inicialización del proyecto).
	\item \textbf{Iteraciones 1-6}: Son las etapas más puramente de desarrollo. Intervienen tanto el \textbf{diseñador}, que será el encargado de preparar las iteraciones, como el \textbf{programador}, que será quien codifique y genere documentación de las iteraciones (como ya se explicó en la sección \ref{sec:adaptacionmetodologia}), además del \textbf{jefe de proyecto} que tendrá una labor de supervisión (principalmente gestionar tiempos empleados y retrasos). A continuación, se describen muy escuetamente las iteraciones (para más información, consultar el documento de diseño \ref{sec:gdd}):
		\begin{itemize}
			\item \textbf{Iteración 1. \textit{Mecánicas básicas y poderes}:} La primera iteración se implementarán las mecánicas más básicas, como saltar, agacharse, correr, etc. y, además, las mecánicas de las que podrá hacer uso el personaje cuando esté potenciado.
			\item \textbf{Iteración 2. \textit{Mecánicas de escalada}:} En la segunda iteración se implementarán las mecánicas de "`plataformeo"' avanzadas.
			\item \textbf{Iteración 3. \textit{HUD, menús, sistema de muerte y sistema de guardado}:} Durante la tercera iteración se creará el menú principal, el menú de pausa y el HUD del que dispondrá el usuario. Además, se implementará el sistema de muerte y el de guardado.
			\item \textbf{Iteración 4. \textit{Peligros del entorno}:} La cuarta iteración tratará sobre la implementación los peligros del entorno que deberá esquivar el personaje.
			\item \textbf{Iteración 5. \textit{Enemigos e inteligencia artificial}:} Durante la quinta iteración se crearán los enemigos que aparecen en el videojuego y se implementará la IA de los mismos.
			\item \textbf{Iteración 6. \textit{Diseño de escenarios}:} En la sexta y última iteración se llevarán a cabo la creación de los escenarios de los que dispondrá, a modo de demostración, el videojuego a entregar. Esto incluye el diseño de un tutorial.
		\end{itemize}
	\item \textbf{Fase de cierre del proyecto}: En esta iteración intervienen el \textbf{diseñador}, encargado de elaborar el manual de la aplicación, y el \textbf{jefe de proyecto}, que será quien finalice los últimos apartados de la memoria, haga las últimas modificaciones sobre la misma y posteriormente realice la presentación mediante la cuál se expondrán los resultados del proyecto.
\end{itemize}

\clearpage

A tenor de lo descrito y de la metodología establecida en el capítulo anterior, podemos establecer la siguiente relación:

\begin{figure*}[htb]
	\centering
		\includegraphics[scale=0.45]{figures/fdd-correspondencias.png}
		\caption{Equivalencias fases-metodología}
\end{figure*}

Además, analizando la diferentes fases \textbf{desde el punto de vista de los roles} podemos concluir que:

\begin{itemize}
	\item \textbf{Jefe de proyecto:} Realiza la mayor parte del esfuerzo en las primeras etapas del proyecto (fase de estudio y fase de inicio) y, en menor medida, al final del mismo (fase de cierre). Entre dichas fases, en las iteraciones, tiene un papel mucho más testimonial en el proyecto que nos ocupa.
	\item \textbf{Diseñador:} La mayor parte del esfuerzo en este caso recae en la fase de inicio del proyecto, donde se tienen que sentar las bases del juego y diseñar el documento de diseño del juego. Durante las iteraciones tiene un papel mucho menos relevante que el programador pero más que el jefe de proyecto y, al igual que pasaba con éste último, también crece su esfuerzo al final del proyecto (fase de cierre).
	\item \textbf{Programador:} Únicamente concentra su esfuerzo durante las iteraciones, durante el resto del proyecto no está presente en el escenario planteado.
\end{itemize}

\clearpage

La siguiente tabla muestra un resumen de la planificación proyectada para las iteraciones junto con su fecha de comienzo y fin:

\begin{table*}[h!]
	\centering
	\begin{coolTable}{ll}{2}
{Resumen de fases e iteraciones (planificación)}
	\textbf{Fase de estudio}&20/02/17 a 12/03/17 (3 semanas)\\
	\textbf{Fase de inicio del proyecto}&13/03/17 a 02/04/17 (3 semanas)\\
	\textbf{Iteración 1}&03/04/17 a 16/04/17 (2 semanas)\\
	\textbf{Iteración 2}&24/04/17 a 14/05/17 (3 semanas)\\
	\textbf{Iteración 3}&15/05/17 a 28/05/17 (2 semanas)\\
	\textbf{Iteración 4}&03/07/17 a 09/07/17 (1 semana)\\
	\textbf{Iteración 5}&10/07/17 a 23/07/17 (2 semanas)\\
	\textbf{Iteración 6}&24/07/17 a 06/08/17 (2 semanas)\\
	\textbf{Fase de cierre del proyecto}&07/08/17 a 13/08/17 (1 semana)\\
	\hline
	\textbf{\textit{Red de seguridad}}&14/08/17 a 31/08/17 (2,5 semanas)\\
	\end{coolTable}
	\caption{Planificación temporal de fases e iteraciones (planificación)}
\end{table*}

Como podemos extraer de la tabla, durante la ejecución del proyecto hay planificadas dos paradas, la primera es de sólo una semana y la segunda de un mes. Se describen a continuación:
\begin{itemize}
	\item \textbf{Semana del 17 al 23 de Abril:} Esta semana es coincidente con los primeros parciales.
	\item \textbf{Mes de Junio (semanas entre el 29 de Mayo y el 02 de Julio):} Coincidente con los segundos parciales, exámenes finales y entrega y posterior defensa de proyectos de diversas asignaturas.
\end{itemize}

Además, como también figura en la tabla, se ha decidido establecer un periodo denominado "`\textbf{Red de seguridad}"' a modo de medida de contingencia para paliar cualquier retraso que surja durante la ejecución del proyecto. Esto es una medida recomendable en todos los proyectos pero más antes el que nos encontramos, ya que es el primer proyecto de este tipo / tecnología. En concreto tendremos un colchón de seguridad de dos semanas y media.

\clearpage

A continuación se muestra una tabla detallada de las iteraciones, mostrando qué rol interviene, el número de horas de trabajo que participa y el número de horas totales de cada iteración:

\begin{table*}[h!]
	\centering
	\begin{coolTable}{llll}{4}
{Planificación de fases e iteraciones detalladas}
	\textbf{Iteración}&\textbf{Roles implicados}&\textbf{Horas est. / rol}&\textbf{Horas estimadas}\\
	\midrule
	\textbf{Fase de estudio}&Jefe de proyecto&30 horas&\textbf{30 horas}\\
	\hline
	\multirow{3}{*}{\textbf{Fase inicio proyecto}}&Jefe de proyecto&30 horas&\multirow{3}{*}{\textbf{60 horas}}\\&Diseñador&20 horas\\&Programador&10 horas\\
	\hline
	\multirow{3}{*}{\textbf{Iteración 1}}&Jefe de proyecto&4 horas&\multirow{3}{*}{\textbf{34 horas}}\\&Diseñador&6 horas\\&Programador&24 horas\\
	\hline
	\multirow{3}{*}{\textbf{Iteración 2}}&Jefe de proyecto&6 horas&\multirow{3}{*}{\textbf{51 horas}}\\&Diseñador&9 horas\\&Programador&36 horas\\
	\hline
	\multirow{3}{*}{\textbf{Iteración 3}}&Jefe de proyecto&4 horas&\multirow{3}{*}{\textbf{34 horas}}\\&Diseñador&6 horas\\&Programador&24 horas\\
	\hline
	\multirow{3}{*}{\textbf{Iteración 4}}&Jefe de proyecto&2 horas&\multirow{3}{*}{\textbf{18 horas}}\\&Diseñador&4 horas\\&Programador&12 horas\\
	\hline
	\multirow{3}{*}{\textbf{Iteración 5}}&Jefe de proyecto&4 horas&\multirow{3}{*}{\textbf{34 horas}}\\&Diseñador&6 horas\\&Programador&24 horas\\
	\hline
	\multirow{3}{*}{\textbf{Iteración 6}}&Jefe de proyecto&4 horas&\multirow{3}{*}{\textbf{34 horas}}\\&Diseñador&6 horas\\&Programador&24 horas\\
	\hline
	\multirow{2}{*}{\textbf{Fase cierre proyecto}}&Jefe de proyecto&10 horas&\multirow{2}{*}{\textbf{15 horas}}\\&Diseñador&5 horas\\
	\midrule
	\textbf{TOTAL}&&&\textbf{310 horas}\\
	\end{coolTable}
	\caption{Planificación temporal detallada de fases e iteraciones}
\end{table*}

\clearpage

Recordemos que es un proyecto realizado con una tecnología, que genera un producto nuevo y del que, por tanto, no se tienen referencias previas por lo que estimar las horas es especialmente difícil. Respecto a esto no hay mucho que podamos hacer, tan solo se han podido calcular las estimaciones sobre las horas dedicadas de cada rol durante las \textbf{fases de iteración} en base a las siguientes normas, para conseguir que sean homogéneas:

\begin{table*}[h!]
	\centering
	\begin{coolTable}{ll}{2}
{Cálculo de horas por rol en iteraciones}
	\textbf{Rol}&\textbf{Horas estimadas}\\
	\hline
	\textbf{Jefe de proyecto}&2 horas por semana\\
	\textbf{Diseñador}&3 horas por semana\\
	\textbf{Programador}&12 horas por semana\\
	\end{coolTable}
	\caption{Tabla del calculo de horas por rol en iteraciones}
\end{table*}

Por último, de la tabla de planificación detallada podemos extraer el número total de horas de trabajo de cada rol, lo cuál nos será útil en el próximo capítulo cuando elaboremos la documentación relativa a los costes de personal (ver sección \ref{sec:costespersonal}):

\begin{table*}[h!]
	\centering
	\begin{coolTable}{ll}{2}
{Resumen de horas de trabajo por rol}
	\textbf{Jefe de proyecto}&94 horas\\
	\textbf{Diseñador}&62 horas\\
	\textbf{Programador}&154 horas\\
	\end{coolTable}
	\caption{Tabla resumen de horas de trabajo por rol}
\end{table*}

\clearpage

\section{Informe de tiempos del proyecto}
\label{sec:planificacion-informe}

Durante el desarrollo del proyecto se han obtenido los siguientes resultados respecto a tiempo:

\begin{table*}[h!]
	\centering
	\begin{coolTable}{llll}{4}
{Tiempos empleados en fases e iteraciones detallados}
	\textbf{Iteración}&\textbf{Roles implicados}&\textbf{Horas reales / rol}&\textbf{Horas reales}\\
	\midrule
	\textbf{Fase de estudio}&Jefe de proyecto&23,2 horas&\textbf{23,2 horas}\\
	\hline
	\multirow{3}{*}{\textbf{Fase inicio proyecto}}&Jefe de proyecto&48,2 horas&\multirow{3}{*}{\textbf{75,3 horas}}\\&Diseñador&21,6 horas\\&Programador&5,5 horas\\
	\hline
	\multirow{3}{*}{\textbf{Iteración 1}}&Jefe de proyecto&2,8 horas&\multirow{3}{*}{\textbf{26,8 horas}}\\&Diseñador&6,7 horas\\&Programador&17,3 horas\\
	\hline
	\multirow{3}{*}{\textbf{Iteración 2}}&Jefe de proyecto&4,3 horas&\multirow{3}{*}{\textbf{58,8 horas}}\\&Diseñador&9,8 horas\\&Programador&44,7 horas\\
	\hline
	\multirow{3}{*}{\textbf{Iteración 3}}&Jefe de proyecto&3,7 horas&\multirow{3}{*}{\textbf{32,9 horas}}\\&Diseñador&7,1 horas\\&Programador&22,1 horas\\
	\hline
	\multirow{3}{*}{\textbf{Iteración 4}}&Jefe de proyecto&1,9 horas&\multirow{3}{*}{\textbf{25,3 horas}}\\&Diseñador&5,4 horas\\&Programador&18 horas\\
	\hline
	\multirow{3}{*}{\textbf{Iteración 5}}&Jefe de proyecto&2,6 horas&\multirow{3}{*}{\textbf{31,1 horas}}\\&Diseñador&6,6 horas\\&Programador&21,9 horas\\
	\hline
	\multirow{3}{*}{\textbf{Iteración 6}}&Jefe de proyecto&2,2 horas&\multirow{3}{*}{\textbf{46,2 horas}}\\&Diseñador&12,2 horas\\&Programador&31,8 horas\\
	\hline
	\multirow{2}{*}{\textbf{Fase cierre proyecto}}&Jefe de proyecto&18,1 horas&\multirow{2}{*}{\textbf{21,9 horas}}\\&Diseñador&3,8 horas\\
	\midrule
	\textbf{TOTAL}&&&\textbf{341,5 horas}\\
	\end{coolTable}
	\caption{Tabla de tiempos empleados en fases e iteraciones detallados}
\end{table*}

\clearpage

La tabla que se muestra a continuación muestra la \textbf{desviación de tiempo} por iteración que se ha obtenido (en la cuál el símbolo "`\textbf{+}"' representará una desviación de tiempo negativa, es decir, que la fase ha llevado más tiempo del planeado y por contrapartida el símbolo "`\textbf{-}"' representará que se ha realizado en menos tiempo del previsto):

\begin{table*}[h!]
	\centering
	\begin{coolTable}{lrr}{3}
{Desviación de tiempo por iteración}
	\textbf{Fase}&\textbf{Desviación de la iteración}&\textbf{Desviación acumulada}\\
	\hline
	\textbf{Fase de estudio}&\textbf{-6,8} horas&\textbf{-6,8} horas\\
	\textbf{Fase de inicio del proyecto}&\textbf{+15,3} horas&\textbf{+8,5} horas\\
	\textbf{Iteración 1}&\textbf{-7,2} horas&\textbf{+1,3} horas\\
	\textbf{Iteración 2}&\textbf{+7,8} horas&\textbf{+9,1} horas\\
	\textbf{Iteración 3}&\textbf{-1,1} horas&\textbf{+8} horas\\
	\textbf{Iteración 4}&\textbf{+7,3} horas&\textbf{+15,3} horas\\
	\textbf{Iteración 5}&\textbf{-2,9} horas&\textbf{+12,4} horas\\
	\textbf{Iteración 6}&\textbf{+12,2} horas&\textbf{+24,6} horas\\
	\textbf{Fase de cierre del proyecto}&\textbf{+6,9} horas&\textbf{+31,5} horas\\
	\hline
	\textbf{\textit{Desviación final}}&&\textbf{+31,5} horas\\
	\end{coolTable}
	\caption{Tabla de desviación de tiempo por iteración}
\end{table*}

Asimismo, vamos a recopilar la desviación de tiempo por rol, que nos será útil para sacar conclusiones una vez finalizado el proyecto.

\begin{table*}[h!]
	\centering
	\begin{coolTable}{lrrr}{4}
{Desviación de tiempo por rol}
	\textbf{Rol}&\textbf{Horas planeadas}&\textbf{Horas reales}&\textbf{Desviación final}\\
	\hline
	\textbf{Jefe de proyecto}&94 horas&107 horas&\textbf{+13} horas\\
	\textbf{Diseñador}&62 horas&73,2 horas&\textbf{+11,2} horas\\
	\textbf{Programador}&154 horas&161,3 horas&\textbf{+7,3} horas\\
	\end{coolTable}
	\caption{Tabla de desviación de tiempo por rol}
\end{table*}

\clearpage

La siguiente tabla muestra, por periodos, el \textbf{retraso acumulado} del proyecto:

\begin{table*}[h!]
	\centering
	\begin{coolTable}{llp{6cm}}{3}
{Retrasos del proyecto}
	\textbf{Periodo}&\textbf{Retraso / adelanto acumulado}&\textbf{Justificación}\\
	\hline
	\textbf{20/02/17 a 20/05/17}&Periodo sin retrasos&-\\
	\textbf{21/05/17 a 13/08/17}&1 semana de retraso&Mala planificación de la segunda parada. El retraso además se extiende más tiempo del deseado porque ocurre antes de la citada parada.\\
	\textbf{13/08/17 a Final}&2 semanas de retraso&Decisión tomada durante el desarrollo: Como llegados a esta iteración aún había suficiente margen de tiempo, se prefirió dotar a los escenarios de los niveles ordinarios, que en principio iban a tener un acabado de "`prototipos"', de mejoras visuales para que todos los niveles del producto tuviesen un acabado homogéneo.\\
	\end{coolTable}
	\caption{Tabla de retrasos del proyecto}
\end{table*}

Debemos tener presente que, respecto a la planificación inicial, disponemos de \textbf{2,5 semanas de red de seguridad} y, aunque no sea lo más idóneo, podemos usar éstas a lo largo del proyecto.

\clearpage

\section{Conclusiones}
\label{sec:planificacion-conclusiones}

Uno de los datos más importantes que tenemos que analizar es la desviación en cuanto a tiempo total que se ha producido al término del proyecto. En este caso, han sido necesarias \textbf{31,5 horas} más de las planificadas para finalizar el proyecto, lo que supone un 10\% sobre el total de horas planeadas en un principio (que fueron un total de 310). Esto se debe en gran parte a la pequeña re-planificación que se ha efectuado durante la última iteración para añadir "`funcionalidad"' extra, ya que recordemos que se decidió alargar una semana la ésta iteración para mejorar los escenarios de juego que componen el software, aprovechando la red de seguridad de la que disponíamos. Además, teniendo en cuenta que es el primer proyecto con esta tecnología y de este tipo no es una diferencia demasiado significativa o que no fuese esperable en un principio.

\begin{figure*}[htb]
	\centering
		\includegraphics[scale=0.6]{figures/planificadas-vs-extras.png}
		\caption{Horas planificadas contra extras}
\end{figure*}

Por otra parte, podemos afirmar que el mayor éxito ha consistido en dividir satisfactoriamente el trabajo entre las diferentes iteraciones, identificando cada tarea (o al menos la inmensa mayoría de ellas) desde el principio, lo que nos ha permitido esquivar de lleno el denominado "`síndrome del noventa por ciento"' \cite{sindrome90}.

\clearpage

\begin{figure*}[htb]
	\centering
		\includegraphics[scale=0.5]{figures/adelanto-retraso-acumulado.png}
		\caption{Horas de adelanto o retraso acumuladas}
\end{figure*}

La amplia "`red de seguridad"' establecida durante la planificación ha permitido realizar este trabajo sin demasiadas prisas, evitando gran parte de estrés (que nunca se proyecta bien en el resultado final), y además, como se comentaba, ha permitido realizar mejoras al producto final que no estaban planificadas en un principio y que, bajo mi punto de vista, han merecido la pena.

Respecto a los roles debemos concluir que los roles que más horas han desempeñado han sido, por este orden: programador, jefe de proyecto y diseñador, como así se había planificado en un principio. Los tres roles trabajaron más horas de las proyectadas, principalmente por el motivo que se ha expresado antes, siendo el jefe de proyecto el que más se ha desviado de sus horas planificadas, seguido del diseñador y del programador, este último con una diferencia mínima.

En definitiva podemos concluir que se ha llevado a cabo una buena planificación: las horas de más empleadas, en su inmensa mayoría, son fruto de la necesidad de querer mejorar este producto lo mayor posible, un software que ha sido tratado con mimo y cariño desde el principio y que espero que ello se note en el resultado final. Prueba de este hecho ha sido evitar el citado anteriormente "`síndrome del 90\%"' \cite{sindrome90} ya que de ser de otra forma debería haberse hecho mucho más notable en un proyecto en el que se han empleado más horas de las planificadas.